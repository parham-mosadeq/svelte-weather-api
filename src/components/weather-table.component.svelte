<script lang="ts">
	import type { WeatherDay } from '../types/weather.types';

	const { weather }: { weather: WeatherDay[] } = $props();
</script>

<div class="mx-auto max-w-4xl px-4 py-8">
	<!-- Fun header -->
	<div class="mb-8 text-center">
		<h1 class="mb-2 text-3xl font-bold text-gray-800">Ù‡ÙˆØ§ÛŒ Ù‡ÙØªÚ¯ÛŒ Ø´ÛŒØ±Ø§Ø²</h1>
		<p class="text-gray-600">
			Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¨Ø§Ø±Ø§Ù†ÛŒ = <span class="font-semibold text-blue-600">Ø±ÙˆØ²Ù‡Ø§ÛŒ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ â˜•ğŸ·</span>
		</p>
	</div>

	<div class="overflow-x-auto">
		<table class="min-w-full border-collapse text-right">
			<thead class="bg-gray-50">
				<tr class="border-b border-gray-200">
					<th class="px-4 py-4 font-semibold text-gray-700">ØªØ§Ø±ÛŒØ®</th>
					<th class="px-4 py-4 font-semibold text-gray-700">Ø±ÙˆØ²</th>
					<th class="px-4 py-4 font-semibold text-gray-700">Ø¯Ù…Ø§</th>
					<th class="px-4 py-4 font-semibold text-gray-700">Ø§Ø­ØªÙ…Ø§Ù„ Ø¨Ø§Ø±Ø´</th>
					<th class="px-4 py-4 font-semibold text-gray-700">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒØŸ</th>
				</tr>
			</thead>
			<tbody>
				{#each weather as day}
					<tr
						class="{day.hasRain
							? 'bg-linear-to-r from-blue-50 to-indigo-50'
							: 'bg-white'} border-b border-gray-200 transition-all duration-200 hover:bg-gray-50"
					>
						<td class="px-4 py-4">{day.date}</td>
						<td class="px-4 py-4 font-medium">{day.weekday}</td>
						<td class="px-4 py-4">
							{day.maxTemp}Â° <span class="text-gray-400">/</span>
							{day.minTemp}Â°
						</td>
						<td class="px-4 py-4">
							{#if day.precipProb > 70}
								<span class="font-medium text-red-600">{day.precipProb}%</span>
							{:else if day.precipProb > 30}
								<span class="font-medium text-orange-500">{day.precipProb}%</span>
							{:else}
								{day.precipProb}%
							{/if}
						</td>
						<td class="px-4 py-4 text-center font-medium">
							{#if day.hasRain}
								<span class="inline-flex items-center gap-2 text-blue-700">
									Ø¨Ù„Ù‡ ğŸ»
									<span class="text-xl">â˜•</span>
								</span>
							{:else}
								<span class="text-gray-500">Ø®ÛŒØ±</span>
							{/if}
						</td>
					</tr>
				{/each}

				{#if !weather?.length}
					<tr>
						<td colspan="5" class="py-12 text-center text-gray-500">
							Ù‡Ù†ÙˆØ² Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†Ø¯Ø§Ø±ÛŒÙ…...
						</td>
					</tr>
				{/if}
			</tbody>
		</table>
	</div>

	<p class="mt-6 text-center text-sm text-gray-500">
		Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¨Ø§Ø±Ø§Ù†ÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ ÛŒÚ© ÙÙ†Ø¬Ø§Ù† Ú†Ø§ÛŒ ÛŒØ§ Ù‚Ù‡ÙˆÙ‡ Ø¯Ø§Øº â˜•
	</p>
</div>
